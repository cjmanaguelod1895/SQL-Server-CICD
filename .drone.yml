kind: pipeline
type: docker
name: Use Sonarqube
steps:
  - name: code-analysis
    image: aosapps/drone-sonar-plugin
    settings:
      sonar_host:
        from_secret: sonar_host
      sonar_token:
        from_secret: sonar_token        
  ver: 1.0
  timeout: 20
  sources: .
  level: DEBUG
  showProfiling: true
  exclusions: **/static/**/*,**/dist/**/*.js
  usingProperties: false


trigger:
  branch:
    include:
      - develop
  event:
    include:
      - push
